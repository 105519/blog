# Summary of Noip 2016 Training

## Day1

### T1 dragon

##### 题面

* 有2n个数：1,1,2,2,3,3,4,4...,n,n

    要求进行排列，使得成为单峰序列(中间大)

    还要满足m个要求，形如 A\[i\]&lt;A\[j\] 或 A\[i\]&lt;=A\[j\]

    求方案数

##### 题解

* dp\[i\]\[j\] : 在i~j之间，第i位与第j位放置相同数字的方案数

### T2 circle

##### 题面

* 求第一象限(包括坐标轴)的1/4整型圆的所有点的y值之和

##### 题解

* 类似整除分块的做复杂度大概为O(2/3\*n)

* 利用公式(n+1)^2=n^2+2n+1可以避免大整数相乘与开根操作，O(n)但是常数极小

### T3 stay

##### 题面

* 网格图，有的格子上有陷阱，每次踩到都会受到伤害

   有些格子有怪兽，第一次旁经会受伤，4联通

##### 题解

* 一只伤害为A的怪兽分解为
    >&emsp;&ensp;A
    >
    >A&ensp;-A&ensp;A
    >
    >&emsp;&ensp;A

* <font color=red>两只怪兽若对角线相邻则互相连边</font>

## Day2

### T1 equation

##### 题面

* 给你一个标准多项式，求导

##### 题解

* 字符串处理题...

### T2 survey

##### 题面

* 给你一个序列，求有多少子序列满足

   有\[l1,r1\]个1,\[l2,r2\]个2,\[l3,r3\]个3...\[lm,rm\]个m

##### 题解

* 枚举左端点，two pointers右端点的左右边界

### T3 track

##### 题面

* 在一颗树上，你在S点，两个陌生人在P点与Q点

    每三秒一循环，第一秒你移动一步，第二三秒陌生人向你移动一步

    求最晚什么时候被抓到

##### 题解

* 枚举最后时刻所在的结点，先判是否可行，可行则更新答案

## Day3

### T1 equation

##### 题面

* 求一个7次方程的所有解,重根需要重复输出

##### 题解

* 模拟多项式除法

### T2 prime

##### 题面

* 将第i个数看成一个编号为i的点
    若A\[i\]+A\[j\]是一个质数,则点i和点j之间存在一条无向边
    求这个图的最大匹配

##### 题解

* 因为只有奇数能与偶数配对，所以这是二分图

### T3 mahjong

##### 题面

* 判断麻将中一副牌打出哪一张最后听的牌数最多

##### 题解

* 枚举打出哪张牌,再枚举听哪张牌

    暴力判断是否能胡牌

    <font color=red>注意数组要开够</font>

## Day4

### T1 eazy

##### 题面

* 给定一个数，问它有多少个不同的质因数，多组询问

##### 题解

* 满足积性

### T2 hard

##### 题面

* 字符串122344111可被描述为1个1、2个2、1个3、2个4、3个1

    因此我们说122344111的编码为1122132431

    给定编码，求合法字符串数

##### 题解

* 前缀和优化dp

### T3 hammer

##### 题面

* 给你一张图，边权会变，8秒一循环，求最短路

##### 题解

* 分层图

* <font color=red>SPFA要加SLF优化</font>

## Day5

### T1 name

##### 题面

* 给你花名册后点名，求每次点名名字是否存在，是否重点了

##### 题解

* STL裸题

### T2 shine

##### 题面

* 在一个n\*m的方格纸上用x\*y大小的笔画下一道痕迹

    笔只能向下走或向右走，给出墨迹图，求最小的x\*y

##### 题解

* 枚举x\*y，判断是否可行

    若一时刻可同时向下或向右走则不合法

    若只能向一个方向走就向那个方向走

    走不动了就判断扫过的面积是否与墨迹面积相等

    看上去像是O(n^4)，实际只有O(n^2)

### <font color=red>T3 sleet</font>

##### 题面

* 把0,1,2...,2n-1排成一个圈，要求x的下一个只能是

    2x,2x+1,2x-2n,2x-2n+1中的一个

    给出任意一个可行解

##### 题解

* 合并环，对于一个环，找出最小的x，

    对于边x/2+n-----&gt;x，在另一个环中找到 x/2-----&gt;x^1，合并

* 欧拉回路，u与u+n合并为一个点

    \[u\]-----(u\*2)-----&gt;\[(u\*2)%n\]

    \[u\]-----(u\*2+1)-----&gt;\[(u\*2+1)%n\]

* 欧拉回路中边的编号就是答案

## Day6

### T1 one

##### 题面

* 一个字符串，初始时你在p位置，每次操作你可以

    左移一位或右移一位(1与n联通)

    所在位置字符+1或-1('a'与'z'联通)

    询问最少多少次操作后修改成为回文串

##### 题解

* 贪心，<font color=red>注意一开始就是回文串的情况</font>

### <font color=red>T2 two</font>

##### 题面

* 在树上选择一些结点，使任何一条路径上不超过k个被选结点，最多选几个

##### 题解

* 取k/2层叶子，若k为奇数就夺取一个点

### T3 three

##### 题面

* 一个键盘上，每次操作可以上下左右移或按下当前键，最少几次操作输入给定字符串

##### 题解

* 建图BFS...

## Day7

### T1 clannad

##### 题面

* 第i种颜色的团子有A\[i\]个，构造一个相邻两个团子不同色的排列

##### 题解

* 各种乱搞啦啦...

### T2 story

##### 题面

* 给出一个无向图，给边定向成为一个DAG，使得最长路最短

##### 题解

* 相当于求这个无向图最小是几分图

    先预处理出所有独立集再状压dp

    注意全集的子集的子集的数量为3^n

### T3 flame

##### 题面

* 一颗带边权的树，开始可以点燃若干个叶子

    求有多少种不同的燃烧光整棵树时间

##### 题解

* 枚举决定烧光时间的两个叶子结点，贪心地点燃其它叶子，模拟判断是否可行

## Day8

### T1 matrix

##### 题面

* F\[i\]\[j\] = a * F\[i\]\[j−1\] + b * F\[i−1\]\[j\]

* 给定a,b与F的第一行第一列，求F\[n\]\[m\]

##### 题解

* 计算第一行第一列每个元素对答案的贡献

* ti = C(n-2,2n-i-2) * a^(n-i) * b^(n-1)

### T2 value

##### 题面

* n个物品，价值vi，代价wi

* 选择i后，剩余物品价值都减少wi

* 任意选择一些物品，使价值最大

##### 题解

* wi从小到大排序，dp

### <font color=red>T3 binary</font>

##### 题面

* 操作 1 i j : 把Ai的值修改为j

* 操作 2 x y : 询问&sum;(Ai+x)&y (i&isin;\[1,n\])

##### 题解

* y可以拆成多个(2^i)的和

* a&(2^i)的值有规律，每2*2^i一循环

## Day9

### T1 gcd

##### 题面

* &sum;\[gcd(a,b)==a^b\] (a,b&isin;\[1,n\];a&lt;=b)

##### 题解

* 令a=ka' b=kb' (a'与b'互质)

* 则a'+1=b'

### T2 path

##### 题面

* 一颗树中长度不小于S的路径最短是多长

##### 题解

* 点分治

### <font color=red>T3 bird</font>

##### 题面

* 给出种鸟通过每个洞的时间，每种鸟的数量

* 求所有鸟都通过的最少时间(包括每只鸟的等待时间)

##### 题解

* 费用流，左边鸟，右边洞，每个洞复制多遍，表示<font color=red>倒数</font>第i次穿过

* S向鸟连边，容量为数量，费用为0

* 洞向T连边，容量为1，费用为0

* 鸟i向洞j(倒数第k次)连边，容量为1，费用为w\[i\]\[j\]*k

* 动态加边

## Day10

### T1 
##### 题面
##### 题解

### T2 
##### 题面
##### 题解

### T3 
##### 题面
##### 题解


