### #241. 【UR #16】破坏发射台

#### 题意

* 长度为 n 的环，每个点染色，有 m 种颜色，要求相邻相对不能同色，求方案数。（定义两个点相对为去掉这两个点后环能被分成相同大小的两段）

#### 题解

1. n为奇数时，则没有任何两点相对，题目退化成一个经典问题

   用矩阵`{{m-1,1},{0,-1}}`的`n-1`次方即可算出答案

2. n为偶数时，将i与i+n/2配对，将产生以下结构

   ```c++
   //以n=8为例
      1---5
      |   |
      2---6
      |   |
      3---7
      |   |
      4---8
   //上图每条边表示着链接的两点颜色不能相同
   //此外1与8连边，5与4连边
   ```

   设1的颜色为A，1+n/2的颜色为B

   用一个二元三进制组来表示一对点的颜色是否为A或B

   再次使用矩阵乘法即可算出答案

   口胡简单，打起来还是很复杂的

